(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[696],{9447:function(e,t,a){Promise.resolve().then(a.bind(a,5566))},9763:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var r=a(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let a=(0,r.forwardRef)((a,n)=>{let{color:i="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:u="",children:p,...m}=a;return(0,r.createElement)("svg",{ref:n,...s,width:o,height:o,stroke:i,strokeWidth:d?24*Number(c)/Number(o):c,className:["lucide","lucide-".concat(l(e)),u].join(" "),...m},[...t.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(p)?p:[p]])});return a.displayName="".concat(e),a}},5863:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},8930:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7689:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},5566:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var r=a(7437),s=a(2265);let l=(0,a(9763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var n=a(7689),i=a(5863),o=a(8930);function c(){let[e,t]=(0,s.useState)([]),[a,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(!1),[p,m]=(0,s.useState)(null),[h,x]=(0,s.useState)(""),[b,f]=(0,s.useState)("");(0,s.useEffect)(()=>{g()},[]);let g=async()=>{try{let e=await fetch("/api/admin/mockups/templates"),a=await e.json();a.templates&&t(a.templates)}catch(e){console.error("Failed to load templates",e)}finally{c(!1)}},y=async e=>{if(e.preventDefault(),!p||!h)return;u(!0);let t=new FormData;t.append("file",p),t.append("name",h),t.append("keywords",b);try{(await fetch("/api/admin/mockups/templates/upload",{method:"POST",body:t})).ok?(m(null),x(""),f(""),g()):alert("Upload failed")}catch(e){console.error(e),alert("Upload error")}finally{u(!1)}},v=async e=>{if(confirm("Are you sure you want to delete this template?"))try{(await fetch("/api/admin/mockups/templates?id=".concat(e),{method:"DELETE"})).ok&&g()}catch(e){console.error("Delete failed",e)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-black text-zinc-100 p-8",children:[(0,r.jsxs)("header",{className:"mb-8 pb-4 border-b border-zinc-800",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-orange-600",children:"Mockup Templates"}),(0,r.jsx)("p",{className:"text-zinc-500",children:"Manage blank product images for automatic generation."})]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"bg-zinc-900 rounded-xl p-6 border border-zinc-800 h-fit",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,r.jsx)(l,{className:"w-5 h-5 text-amber-500"}),"Add New Template"]}),(0,r.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-bold uppercase text-zinc-500 mb-1",children:"Template Name"}),(0,r.jsx)("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-3 text-sm focus:border-amber-500 outline-none",placeholder:"e.g. Blank Canvas Horizontal",value:h,onChange:e=>x(e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-bold uppercase text-zinc-500 mb-1",children:"Keywords"}),(0,r.jsx)("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-3 text-sm focus:border-amber-500 outline-none",placeholder:"canvas, wall art, large",value:b,onChange:e=>f(e.target.value)}),(0,r.jsx)("p",{className:"text-[10px] text-zinc-500 mt-1",children:"Comma-separated keywords to match Shopify products."})]}),(0,r.jsxs)("div",{className:"border-2 border-dashed border-zinc-800 rounded-lg p-8 text-center hover:border-zinc-600 transition-colors cursor-pointer relative",children:[(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;return m((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"absolute inset-0 opacity-0 cursor-pointer",required:!0}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)(n.Z,{className:"w-8 h-8 text-zinc-600 mb-2"}),(0,r.jsx)("span",{className:"text-sm text-zinc-400",children:p?p.name:"Click to Upload Image"})]})]}),(0,r.jsx)("button",{type:"submit",disabled:d||!p,className:"w-full btn-amber py-3 rounded-lg font-bold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?(0,r.jsx)(i.Z,{className:"w-4 h-4 animate-spin"}):"Upload Template"})]})]}),(0,r.jsx)("div",{className:"lg:col-span-2",children:a?(0,r.jsx)("div",{className:"flex justify-center p-12",children:(0,r.jsx)(i.Z,{className:"w-8 h-8 text-zinc-600 animate-spin"})}):(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.map(e=>{var t;return(0,r.jsxs)("div",{className:"group relative bg-zinc-900 rounded-xl overflow-hidden border border-zinc-800 hover:border-zinc-600 transition-all",children:[(0,r.jsxs)("div",{className:"aspect-square relative bg-zinc-950/50",children:[(0,r.jsx)("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-contain p-4"}),(0,r.jsx)("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,r.jsx)("button",{onClick:()=>v(e.id),className:"p-2 bg-red-500/10 hover:bg-red-500 text-red-500 hover:text-white rounded-lg transition-colors",children:(0,r.jsx)(o.Z,{className:"w-4 h-4"})})})]}),(0,r.jsxs)("div",{className:"p-4 border-t border-zinc-900",children:[(0,r.jsx)("h3",{className:"font-bold text-sm truncate",children:e.name}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:null===(t=e.keywords)||void 0===t?void 0:t.map((e,t)=>(0,r.jsx)("span",{className:"text-[10px] bg-zinc-800 text-zinc-400 px-2 py-0.5 rounded-full",children:e},t))})]})]},e.id)}),0===e.length&&(0,r.jsx)("div",{className:"col-span-full py-12 text-center text-zinc-600",children:"No templates found. Upload your first one!"})]})})]})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=9447)}),_N_E=e.O()}]);