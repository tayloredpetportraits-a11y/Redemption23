(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[397],{5089:function(e,t,s){Promise.resolve().then(s.bind(s,3219))},9763:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(2265),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let s=(0,a.forwardRef)((s,n)=>{let{color:i="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:x="",children:p,...m}=s;return(0,a.createElement)("svg",{ref:n,...l,width:c,height:c,stroke:i,strokeWidth:d?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(r(e)),x].join(" "),...m},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(p)?p:[p]])});return s.displayName="".concat(e),s}},7689:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},3219:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var a=s(7437),l=s(2265),r=s(8864),n=s(8237),i=s(9763);let c=(0,i.Z)("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]),o=(0,i.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var d=s(7689);function x(){let[e,t]=(0,l.useState)("bear"),[s,i]=(0,l.useState)({...r.i.bear}),[x]=(0,l.useState)("/uploads/pets/custom_dog.jpg"),[p,m]=(0,l.useState)(""),[u,b]=(0,l.useState)(""),[h,f]=(0,l.useState)(!1),g=e=>{t(e),i({...r.i[e]}),b("")},y=(e,t)=>{i(s=>({...s,style:{...s.style,[e]:t}}))},v=async()=>{f(!0);try{let t=await fetch("/api/admin/generate-mockup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productType:e,customTemplatePath:p||void 0,testImageUrl:x})}),s=await t.json();s.success?b(s.url):alert("Generation failed: "+s.error)}catch(e){alert("Error calling generation API")}finally{f(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-black text-zinc-100 p-8",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between mb-8 pb-4 border-b border-zinc-800",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[(0,a.jsx)(c,{className:"w-8 h-8 text-amber-500"}),"Mockup Tuner"]}),(0,a.jsx)("p",{className:"text-zinc-500",children:"Fine-tune product previews with photorealistic settings"})]}),(0,a.jsx)("div",{className:"flex gap-4",children:(0,a.jsxs)("button",{onClick:()=>{console.log("Generating JSON Config for:",e),console.log(JSON.stringify(s,null,2)),alert("Config output to console!")},className:"btn-amber flex items-center gap-2 px-6 py-3 rounded-lg font-bold",children:[(0,a.jsx)(o,{className:"w-4 h-4"}),"Save Configuration"]})})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-8 h-[calc(100vh-200px)] overflow-y-auto pr-2 custom-scrollbar",children:[(0,a.jsxs)("section",{className:"bg-zinc-900 rounded-xl p-6 border border-zinc-800 space-y-4",children:[(0,a.jsx)("h2",{className:"font-bold text-lg text-amber-500",children:"1. Select Product"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Object.keys(r.i).map(t=>(0,a.jsx)("button",{onClick:()=>g(t),className:"p-3 rounded-lg border text-sm transition-all ".concat(e===t?"bg-amber-500/20 border-amber-500 text-amber-400":"bg-zinc-800 border-zinc-700 hover:border-zinc-600"),children:t},t))})]}),(0,a.jsxs)("section",{className:"bg-zinc-900 rounded-xl p-6 border border-zinc-800 space-y-4",children:[(0,a.jsx)("h2",{className:"font-bold text-lg text-amber-500",children:"2. Assets"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs text-zinc-400 font-bold uppercase",children:"Custom Template Path (Public/)"}),(0,a.jsx)("input",{value:p,onChange:e=>m(e.target.value),placeholder:"e.g. /assets/mockups/my_custom_mug.png",className:"w-full bg-zinc-950 border border-zinc-800 rounded p-2 text-sm"}),(0,a.jsx)("p",{className:"text-[10px] text-zinc-500",children:"Leave empty to use default config base."})]}),(0,a.jsxs)("div",{className:"p-4 border-2 border-dashed border-zinc-700 rounded-lg text-center hover:border-zinc-500 transition-colors cursor-pointer",children:[(0,a.jsx)(d.Z,{className:"w-8 h-8 mx-auto text-zinc-500 mb-2"}),(0,a.jsx)("p",{className:"text-xs text-zinc-400",children:"Drag & Drop Base Image (Official Printify)"})]})]}),(0,a.jsxs)("section",{className:"bg-zinc-900 rounded-xl p-6 border border-zinc-800 space-y-4",children:[(0,a.jsx)("h2",{className:"font-bold text-lg text-amber-500",children:"3. AI Verification"}),(0,a.jsx)("p",{className:"text-sm text-zinc-400",children:"Test the Nano Banana integration with current settings."}),(0,a.jsx)("button",{onClick:v,disabled:h,className:"w-full btn-teal py-3 rounded-lg font-bold disabled:opacity-50",children:h?"Generating Composite...":"Generate AI Preview"})]}),(0,a.jsxs)("section",{className:"bg-zinc-900 rounded-xl p-6 border border-zinc-800 space-y-6",children:[(0,a.jsx)("h2",{className:"font-bold text-lg text-amber-500",children:"4. Manual Tuning (Legacy)"}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-zinc-400 uppercase font-bold",children:"Top Position (%)"}),(0,a.jsx)("input",{type:"range",min:"0",max:"100",step:"0.1",value:parseFloat(s.style.top),onChange:e=>y("top","".concat(e.target.value,"%")),className:"w-full mt-2 accent-amber-500"})]})})]})]}),(0,a.jsxs)("div",{className:"lg:col-span-2 bg-zinc-900 rounded-2xl border border-zinc-800 p-8 flex flex-col",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"font-bold text-zinc-400",children:"Live Preview & AI Result"}),(0,a.jsx)("div",{className:"flex gap-2"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 h-full",children:[(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center bg-zinc-950/50 rounded-xl overflow-hidden relative border border-zinc-800/50 shadow-inner",children:(0,a.jsx)("div",{className:"relative w-full max-w-lg aspect-square",children:(0,a.jsx)(n.E,{productType:e,imageUrl:x,configOverride:s})})}),(0,a.jsx)("div",{className:"mt-2 text-center text-xs text-zinc-500",children:"Manual (CSS) Preview"})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center bg-zinc-950/50 rounded-xl overflow-hidden relative border border-zinc-800/50 shadow-inner",children:u?(0,a.jsx)("img",{src:u,alt:"AI Result",className:"max-w-full max-h-full object-contain"}):(0,a.jsx)("div",{className:"text-zinc-600 text-sm",children:"AI Result will appear here"})}),(0,a.jsx)("div",{className:"mt-2 text-center text-xs text-amber-500 font-bold",children:"AI Composite Result"})]})]})]})]})]})}},8237:function(e,t,s){"use strict";s.d(t,{E:function(){return n}});var a=s(7437);s(2265);var l=s(3145),r=s(8864);let n=e=>{let{productType:t,imageUrl:s,className:n="",configOverride:i}=e,c={...r.i[t],...i},o="displacement-".concat(t,"-").concat(Math.random().toString(36).substr(2,9));if(!c||!c.base)return(0,a.jsx)("div",{className:"bg-zinc-100 flex items-center justify-center text-zinc-400 ".concat(n),children:"Mockup not found"});let d={top:c.style.top,left:c.style.left,width:c.style.width,height:c.style.height||"auto",aspectRatio:c.style.aspectRatio,transform:c.style.transform,transformOrigin:"center center",filter:"".concat(c.style.filter||""," ").concat(c.displacementMap?"url(#".concat(o,")"):""),mixBlendMode:c.style.mixBlendMode,opacity:c.style.opacity||1,boxShadow:c.style.boxShadow},x=c.mask?{WebkitMaskImage:"url(".concat(c.mask,")"),maskImage:"url(".concat(c.mask,")"),WebkitMaskSize:"contain",maskSize:"contain",WebkitMaskPosition:"center",maskPosition:"center",WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat"}:{borderRadius:c.style.borderRadius};return(0,a.jsxs)("div",{className:"relative w-full h-full overflow-hidden ".concat(n),children:[c.displacementMap&&(0,a.jsx)("svg",{className:"absolute w-0 h-0",children:(0,a.jsx)("defs",{children:(0,a.jsxs)("filter",{id:o,children:[(0,a.jsx)("feImage",{href:c.displacementMap,result:"displacement-map",width:"100%",height:"100%",preserveAspectRatio:"none"}),(0,a.jsx)("feDisplacementMap",{in:"SourceGraphic",in2:"displacement-map",scale:c.style.displacementScale||20,xChannelSelector:"R",yChannelSelector:"G"})]})})}),(0,a.jsx)("div",{className:"relative w-full h-full",children:(0,a.jsx)(l.default,{src:c.base,alt:"".concat(t," base"),fill:!0,className:"object-cover",priority:!0})}),s?(0,a.jsx)("div",{className:"absolute z-10 overflow-hidden",style:{...d,...x},children:(0,a.jsxs)("div",{className:"relative w-full h-full",children:[(0,a.jsx)(l.default,{src:s,alt:"Print",fill:!0,className:"object-cover"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-black/10 via-transparent to-white/20 mix-blend-overlay pointer-events-none"})]})}):(0,a.jsx)("div",{className:"absolute z-10 flex items-center justify-center bg-white/50 backdrop-blur-[1px] border border-zinc-200",style:{...d,borderRadius:c.style.borderRadius},children:(0,a.jsx)("span",{className:"text-[10px] uppercase tracking-widest text-zinc-400 font-medium",children:"Select Portrait"})}),c.texture&&(0,a.jsx)("div",{className:"absolute inset-0 z-20 pointer-events-none mix-blend-multiply opacity-70",children:(0,a.jsx)(l.default,{src:c.texture,alt:"texture",fill:!0,className:"object-cover"})}),(0,a.jsx)("div",{className:"absolute inset-0 z-30 pointer-events-none shadow-[inset_0_0_20px_rgba(0,0,0,0.05)]"})]})}},8864:function(e,t,s){"use strict";s.d(t,{i:function(){return a}});let a={"canvas-11x14":{base:"/assets/mockups/canvas_mockup.png",style:{top:"25%",left:"35%",width:"30%",aspectRatio:"11 / 14",transform:"perspective(1000px) rotateY(-5deg)",boxShadow:"2px 4px 12px rgba(0,0,0,0.5)",filter:"contrast(1.05) brightness(0.95)",mixBlendMode:"normal"}},"canvas-16x20":{base:"/assets/mockups/canvas_mockup.png",style:{top:"22%",left:"32%",width:"36%",aspectRatio:"16 / 20",boxShadow:"2px 4px 15px rgba(0,0,0,0.6)",filter:"contrast(1.05) brightness(0.95)"}},bear:{base:"/assets/mockups/bear_base.png",mask:"/assets/mockups/bear_mask.png",displacementMap:"/assets/mockups/bear_base.png",style:{top:"40%",left:"35%",width:"30%",aspectRatio:"1 / 1",transform:"rotate(-2deg)",mixBlendMode:"multiply",opacity:.9,displacementScale:20}},tumbler:{base:"/assets/mockups/tumbler_base.png",displacementMap:"/assets/mockups/tumbler_base.png",style:{top:"30%",left:"35%",width:"30%",height:"40%",borderRadius:"5px",transform:"perspective(800px) rotateY(15deg)",mixBlendMode:"multiply",filter:"brightness(1.02)",displacementScale:30}},digital:{base:"/assets/mockups/canvas_mockup.png",style:{top:"25%",left:"35%",width:"30%",aspectRatio:"1 / 1",borderRadius:"12px",filter:"drop-shadow(0 0 10px rgba(59, 130, 246, 0.5))"}}}}},function(e){e.O(0,[145,971,117,744],function(){return e(e.s=5089)}),_N_E=e.O()}]);