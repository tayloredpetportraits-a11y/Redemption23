(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[253],{1638:function(e,t,s){Promise.resolve().then(s.bind(s,1331))},401:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},8867:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},8919:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},1331:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var i=s(7437),n=s(2265),c=s(6424),r=s(8867),a=s(8919),l=s(401),o=s(3145),d=s(5800);function x(){let[e,t]=(0,n.useState)([]),[s,x]=(0,n.useState)(!0);async function u(){x(!0);try{let e=await fetch("/api/admin/marketing/posts"),s=await e.json();t(s.posts||[])}catch(e){console.error("Failed to load posts",e)}finally{x(!1)}}(0,n.useEffect)(()=>{u()},[]);let p=e=>{navigator.clipboard.writeText(e),alert("Copied!")};return(0,i.jsxs)("div",{className:"p-8 space-y-8",children:[(0,i.jsx)("div",{className:"flex items-center justify-between",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-pink-500 to-purple-500 bg-clip-text text-transparent",children:"Social Media Marketing"}),(0,i.jsx)("p",{className:"text-zinc-400 mt-2",children:"Manage auto-generated posts for Instagram & Facebook."})]})}),s?(0,i.jsx)("div",{className:"text-zinc-500",children:"Loading drafts..."}):(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(e=>{var t,s,n;return(0,i.jsxs)(d.E.div,{layout:!0,className:"bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden flex flex-col",children:[(0,i.jsxs)("div",{className:"relative aspect-square",children:[(null===(t=e.images)||void 0===t?void 0:t.url)?(0,i.jsx)(o.default,{src:e.images.url,alt:"Post Image",fill:!0,className:"object-cover"}):(0,i.jsx)("div",{className:"w-full h-full bg-zinc-800 flex items-center justify-center text-zinc-600",children:"No Image"}),(0,i.jsx)("div",{className:"absolute top-2 right-2 px-2 py-1 bg-black/60 rounded text-xs font-bold text-white capitalize backdrop-blur-md",children:e.status})]}),(0,i.jsxs)("div",{className:"p-4 flex-1 flex flex-col space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-bold text-zinc-100",children:null===(s=e.orders)||void 0===s?void 0:s.pet_name}),(0,i.jsx)("p",{className:"text-xs text-zinc-500",children:(0,c.WU)(new Date(e.created_at),"MMM d, yyyy")})]}),(0,i.jsxs)("div",{className:"bg-zinc-950 p-3 rounded-lg border border-zinc-800 text-sm text-zinc-300 flex-1 relative group",children:[(0,i.jsx)("p",{className:"whitespace-pre-wrap",children:e.caption}),(0,i.jsx)("p",{className:"mt-2 text-blue-400",children:null===(n=e.hashtags)||void 0===n?void 0:n.join(" ")}),(0,i.jsx)("button",{onClick:()=>{var t;return p("".concat(e.caption,"\n\n").concat(null===(t=e.hashtags)||void 0===t?void 0:t.join(" ")))},className:"absolute top-2 right-2 p-1.5 bg-zinc-800 rounded hover:bg-zinc-700 opacity-0 group-hover:opacity-100 transition-opacity",title:"Copy Caption",children:(0,i.jsx)(r.Z,{className:"w-3 h-3"})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsxs)("button",{onClick:()=>{var t;return window.open(null===(t=e.images)||void 0===t?void 0:t.url,"_blank")},className:"flex items-center justify-center gap-2 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg text-xs font-bold transition-colors",children:[(0,i.jsx)(a.Z,{className:"w-3 h-3"}),"Download Image"]}),(0,i.jsxs)("button",{className:"flex items-center justify-center gap-2 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg text-xs font-bold transition-colors",children:[(0,i.jsx)(l.Z,{className:"w-3 h-3"}),"Mark Posted"]})]})]})]},e.id)}),0===e.length&&(0,i.jsx)("div",{className:"col-span-full py-12 text-center text-zinc-500 border border-dashed border-zinc-800 rounded-xl",children:(0,i.jsx)("p",{children:"No marketing drafts found."})})]})]})}}},function(e){e.O(0,[799,145,424,971,117,744],function(){return e(e.s=1638)}),_N_E=e.O()}]);