(()=>{var e={};e.id=3403,e.ids=[3403],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44097:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.Z,__next_app__:()=>x,originalPathname:()=>d,pages:()=>o,routeModule:()=>m,tree:()=>c}),r(74378),r(9457),r(19958),r(7629),r(12523);var s=r(23191),a=r(88716),i=r(43315),l=r(95231),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);r.d(t,n);let c=["",{children:["admin",{children:["review",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,74378)),"/Users/taylorstrong/Redemption23-1/project/src/app/admin/review/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9457)),"/Users/taylorstrong/Redemption23-1/project/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,19958)),"/Users/taylorstrong/Redemption23-1/project/src/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,7629)),"/Users/taylorstrong/Redemption23-1/project/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"/Users/taylorstrong/Redemption23-1/project/src/app/not-found.tsx"]}],o=["/Users/taylorstrong/Redemption23-1/project/src/app/admin/review/page.tsx"],d="/admin/review/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/review/page",pathname:"/admin/review",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7009:(e,t,r)=>{Promise.resolve().then(r.bind(r,43219))},56067:(e,t,r)=>{Promise.resolve().then(r.bind(r,27884))},67211:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]])},32933:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},924:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},71709:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},49163:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]])},24319:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},71810:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},89392:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]])},51996:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},76993:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},90434:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var s=r(79404),a=r.n(s)},35047:(e,t,r)=>{"use strict";var s=r(77389);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},43219:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(10326),a=r(35047),i=r(90434),l=r(24319),n=r(51996),c=r(89392),o=r(71709),d=r(76993),x=r(49163),m=r(71810);function h(){let e=(0,a.usePathname)(),t=async()=>{await fetch("/api/admin/logout",{method:"POST"}),window.location.href="/admin/login"},r=[{label:"Command Center",href:"/admin",icon:l.Z,exact:!0},{label:"Create Order",href:"/admin/create",icon:n.Z},{label:"Themes",href:"/admin/themes",icon:c.Z},{label:"Mockups",href:"/admin/mockups",icon:o.Z},{label:"Marketing",href:"/admin/marketing",icon:d.Z}];return(0,s.jsxs)("aside",{className:"w-64 border-r border-brand-blue/30 bg-white/80 backdrop-blur-xl flex flex-col h-screen sticky top-0 shadow-lg shadow-brand-navy/5",children:[s.jsx("div",{className:"p-6 border-b border-brand-blue/30",children:(0,s.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2 text-brand-navy font-playfair",children:[s.jsx(x.Z,{className:"w-6 h-6 text-brand-navy"}),s.jsx("span",{children:"Admin"})]})}),s.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:r.map(t=>{let r=t.exact?e===t.href:e.startsWith(t.href);return(0,s.jsxs)(i.default,{href:t.href,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all font-medium ${r?"bg-brand-navy text-white shadow-md":"text-zinc-500 hover:text-brand-navy hover:bg-brand-blue/20"}`,children:[s.jsx(t.icon,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:t.label})]},t.href)})}),s.jsx("div",{className:"p-4 border-t border-brand-blue/30",children:(0,s.jsxs)("button",{onClick:t,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-zinc-500 hover:text-rose-500 hover:bg-rose-50 transition-all font-medium",children:[s.jsx(m.Z,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Logout"})]})})]})}function u({children:e}){let t=(0,a.usePathname)();if("/admin/login"===t)return s.jsx(s.Fragment,{children:e});let{replace:i}=r(35047).useRouter(),{useEffect:l}=r(17577);return l(()=>{document.cookie.includes("admin-token=authenticated")||i("/admin/login")},[t,i]),(0,s.jsxs)("div",{className:"flex min-h-screen bg-slate-50 text-zinc-900",children:[s.jsx(h,{}),s.jsx("main",{className:"flex-1 max-w-[1600px] w-full mx-auto",children:e})]})}},27884:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(10326),a=r(17577),i=r(924);let l=(0,r(76557).Z)("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);var n=r(67211),c=r(94019),o=r(32933),d=r(46226);function x(){let[e,t]=(0,a.useState)(!0),[r,x]=(0,a.useState)(null),[m,h]=(0,a.useState)([]),[u,p]=(0,a.useState)(0),[g,y]=(0,a.useState)("grid"),f=async()=>{t(!0);try{let e=await fetch("/api/admin/review-queue"),r=await e.json();if(!e.ok){console.error("Review queue error:",r.error),t(!1);return}let{orders:s=[],images:a=[]}=r;if(!s||0===s.length){x(null),t(!1);return}b(s[0],a.filter(e=>e.order_id===s[0].id))}catch(e){console.error("Failed to load queue",e)}finally{t(!1)}},b=(e,t)=>{x(e),t&&h(t),p(0),y("grid")},v=async(e,t)=>{let r=t||m[u]?.id;r&&(h(e=>e.filter(e=>e.id!==r)),await fetch("/api/admin/review-queue",{method:"POST",body:JSON.stringify({imageId:r,status:"approve"===e?"approved":"rejected"})}),"swipe"===g&&m.length<=1&&w())},j=async()=>{if(!m.length)return;let e=m.map(e=>e.id);h([]),await Promise.all(e.map(e=>fetch("/api/admin/review-queue",{method:"POST",body:JSON.stringify({imageId:e,status:"approved"})}))),w()},w=()=>{f()};return e?s.jsx("div",{className:"min-h-screen grid place-items-center text-zinc-500",children:"Loading..."}):r&&0!==m.length?(0,s.jsxs)("div",{className:"min-h-screen bg-zinc-950 flex flex-col",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-zinc-800 bg-zinc-900/80 backdrop-blur flex justify-between items-center z-10 sticky top-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[r.pet_image_url&&s.jsx("div",{className:"w-12 h-12 relative rounded-full overflow-hidden border border-zinc-700",children:s.jsx(d.default,{src:r.pet_image_url,alt:"Pet",fill:!0,className:"object-cover",unoptimized:!0})}),(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"font-bold text-zinc-100",children:r.customer_name}),(0,s.jsxs)("div",{className:"flex gap-2 text-xs",children:[s.jsx("span",{className:"text-zinc-500",children:r.pet_name||"Pet Swap"}),s.jsx("span",{className:"text-zinc-600",children:"â€¢"}),s.jsx("span",{className:"text-amber-500",children:r.product_type})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>y("grid"),className:`p-2 rounded ${"grid"===g?"bg-zinc-800 text-white":"text-zinc-500 hover:text-zinc-300"}`,children:s.jsx(i.Z,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>y("swipe"),className:`p-2 rounded ${"swipe"===g?"bg-zinc-800 text-white":"text-zinc-500 hover:text-zinc-300"}`,children:s.jsx(l,{className:"w-5 h-5"})}),s.jsx("div",{className:"h-6 w-px bg-zinc-800 mx-2"}),(0,s.jsxs)("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 bg-green-500/10 text-green-500 hover:bg-green-500/20 rounded-lg text-sm font-medium transition-colors",children:[s.jsx(n.Z,{className:"w-4 h-4"}),"Approve All"]})]})]}),s.jsx("div",{className:"flex-1 overflow-auto p-6",children:"grid"===g?(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[r.pet_image_url&&(0,s.jsxs)("div",{className:"aspect-[3/4] rounded-xl overflow-hidden relative ring-2 ring-blue-500/50 group",children:[s.jsx(d.default,{src:r.pet_image_url,alt:"Reference",fill:!0,className:"object-cover",unoptimized:!0}),s.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:s.jsx("span",{className:"px-3 py-1 bg-blue-500 text-white text-xs font-bold rounded-full",children:"Source Pet"})})]}),m.map(e=>(0,s.jsxs)("div",{className:"aspect-[3/4] rounded-xl overflow-hidden relative group ring-1 ring-zinc-800 hover:ring-amber-500 transition-all",children:[s.jsx(d.default,{src:e.url,alt:"Candidate",fill:!0,className:"object-cover"}),s.jsx("div",{className:"absolute inset-x-0 bottom-0 p-3 bg-gradient-to-t from-black/90 to-transparent",children:s.jsx("p",{className:"text-xs text-white font-medium truncate",children:e.theme_name||e.type})}),(0,s.jsxs)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-3 backdrop-blur-sm",children:[s.jsx("button",{onClick:()=>v("reject",e.id),className:"p-3 rounded-full bg-red-500/20 text-red-500 hover:bg-red-500 hover:text-white transition-colors",children:s.jsx(c.Z,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>v("approve",e.id),className:"p-3 rounded-full bg-green-500/20 text-green-500 hover:bg-green-500 hover:text-white transition-colors",children:s.jsx(o.Z,{className:"w-5 h-5"})})]})]},e.id))]}):(0,s.jsxs)("div",{className:"h-full flex items-center justify-center gap-8",children:[r.pet_image_url&&(0,s.jsxs)("div",{className:"hidden lg:block w-64 aspect-[3/4] rounded-2xl overflow-hidden relative ring-1 ring-zinc-700 shadow-xl opacity-50 hover:opacity-100 transition-opacity",children:[s.jsx(d.default,{src:r.pet_image_url,alt:"Reference",fill:!0,className:"object-cover",unoptimized:!0}),s.jsx("div",{className:"absolute top-4 left-4 px-2 py-1 bg-black/60 text-white text-xs rounded",children:"Original"})]}),s.jsx("div",{className:"relative w-full max-w-md aspect-[3/4] bg-zinc-900 rounded-2xl overflow-hidden shadow-2xl ring-1 ring-zinc-800",children:m[u]&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(d.default,{src:m[u].url,alt:"Candidate",fill:!0,className:"object-cover"}),(0,s.jsxs)("div",{className:"absolute bottom-0 inset-x-0 p-6 bg-gradient-to-t from-black/80 to-transparent",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:m[u].theme_name}),(0,s.jsxs)("p",{className:"text-zinc-400 text-sm capitalize",children:[m[u].type," Generation"]})]})]})}),(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[s.jsx("button",{onClick:()=>v("approve"),className:"p-4 rounded-full bg-green-500/10 text-green-500 hover:bg-green-500 hover:text-white",children:s.jsx(o.Z,{className:"w-8 h-8"})}),s.jsx("button",{onClick:()=>v("reject"),className:"p-4 rounded-full bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white",children:s.jsx(c.Z,{className:"w-8 h-8"})})]})]})})]}):(0,s.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center space-y-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-zinc-100",children:"All Caught Up! \uD83C\uDF89"}),s.jsx("button",{onClick:f,className:"btn-secondary",children:"Refresh Queue"}),(0,s.jsxs)("div",{className:"pt-8 border-t border-zinc-800 flex flex-col items-center gap-2",children:[s.jsx("h3",{className:"text-zinc-500 text-sm",children:"Testing Tools"}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:()=>fetch("/api/admin/seed",{method:"POST",body:JSON.stringify({theme:"royalty"})}).then(f),className:"px-4 py-2 bg-amber-500/10 text-amber-500 rounded hover:bg-amber-500/20 text-sm",children:"+ Test Royalty Order"})})]})]})}},9457:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`/Users/taylorstrong/Redemption23-1/project/src/app/admin/layout.tsx#default`)},74378:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`/Users/taylorstrong/Redemption23-1/project/src/app/admin/review/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9276,9449,6226,163],()=>r(44097));module.exports=s})();