(()=>{var e={};e.id=8606,e.ids=[8606],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},40271:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.Z,__next_app__:()=>x,originalPathname:()=>d,pages:()=>o,routeModule:()=>m,tree:()=>c}),r(98619),r(9457),r(19958),r(7629),r(12523);var s=r(23191),a=r(88716),i=r(43315),n=r(95231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let c=["",{children:["admin",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,98619)),"/Users/taylorstrong/Redemption23-1/project/src/app/admin/orders/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9457)),"/Users/taylorstrong/Redemption23-1/project/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,19958)),"/Users/taylorstrong/Redemption23-1/project/src/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,7629)),"/Users/taylorstrong/Redemption23-1/project/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"/Users/taylorstrong/Redemption23-1/project/src/app/not-found.tsx"]}],o=["/Users/taylorstrong/Redemption23-1/project/src/app/admin/orders/page.tsx"],d="/admin/orders/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/orders/page",pathname:"/admin/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7009:(e,t,r)=>{Promise.resolve().then(r.bind(r,43219))},32362:(e,t,r)=>{Promise.resolve().then(r.bind(r,648))},2179:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},3335:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]])},4559:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]])},91468:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]])},88307:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},43219:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(10326),a=r(35047),i=r(90434),n=r(24319),l=r(51996),c=r(89392),o=r(71709),d=r(76993),x=r(49163),m=r(71810);function h(){let e=(0,a.usePathname)(),t=async()=>{await fetch("/api/admin/logout",{method:"POST"}),window.location.href="/admin/login"},r=[{label:"Command Center",href:"/admin",icon:n.Z,exact:!0},{label:"Create Order",href:"/admin/create",icon:l.Z},{label:"Themes",href:"/admin/themes",icon:c.Z},{label:"Mockups",href:"/admin/mockups",icon:o.Z},{label:"Marketing",href:"/admin/marketing",icon:d.Z}];return(0,s.jsxs)("aside",{className:"w-64 border-r border-brand-blue/30 bg-white/80 backdrop-blur-xl flex flex-col h-screen sticky top-0 shadow-lg shadow-brand-navy/5",children:[s.jsx("div",{className:"p-6 border-b border-brand-blue/30",children:(0,s.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2 text-brand-navy font-playfair",children:[s.jsx(x.Z,{className:"w-6 h-6 text-brand-navy"}),s.jsx("span",{children:"Admin"})]})}),s.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:r.map(t=>{let r=t.exact?e===t.href:e.startsWith(t.href);return(0,s.jsxs)(i.default,{href:t.href,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all font-medium ${r?"bg-brand-navy text-white shadow-md":"text-zinc-500 hover:text-brand-navy hover:bg-brand-blue/20"}`,children:[s.jsx(t.icon,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:t.label})]},t.href)})}),s.jsx("div",{className:"p-4 border-t border-brand-blue/30",children:(0,s.jsxs)("button",{onClick:t,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-zinc-500 hover:text-rose-500 hover:bg-rose-50 transition-all font-medium",children:[s.jsx(m.Z,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Logout"})]})})]})}function u({children:e}){let t=(0,a.usePathname)();if("/admin/login"===t)return s.jsx(s.Fragment,{children:e});let{replace:i}=r(35047).useRouter(),{useEffect:n}=r(17577);return n(()=>{document.cookie.includes("admin-token=authenticated")||i("/admin/login")},[t,i]),(0,s.jsxs)("div",{className:"flex min-h-screen bg-slate-50 text-zinc-900",children:[s.jsx(h,{}),s.jsx("main",{className:"flex-1 max-w-[1600px] w-full mx-auto",children:e})]})}},648:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(10326),a=r(17577),i=r(69701),n=r(35047),l=r(45956),c=r(4559),o=r(3335),d=r(91468),x=r(2179),m=r(88307),h=r(75290),u=r(87888);function p(){let[e,t]=(0,a.useState)([]),[r,p]=(0,a.useState)("all"),[g,j]=(0,a.useState)(new Set),[v,y]=(0,a.useState)(!0),[N,z]=(0,a.useState)(""),[w,k]=(0,a.useState)(1),[C,P]=(0,a.useState)(0),[Z,S]=(0,a.useState)(0),[_,A]=(0,a.useState)({all:0,inbox:0,revising:0,fulfilled:0,archived:0}),M=(0,n.useRouter)(),q=(0,i.e)(),O=()=>S(e=>e+1),E=e=>{let t=new Set(g);t.has(e)?t.delete(e):t.add(e),j(t)},R=async(e,t)=>{if(t.stopPropagation(),!confirm("Archive this order?"))return;let{error:r}=await q.from("orders").update({status:"failed"}).eq("id",e);r?(console.error("Error archiving:",r),alert("Failed to archive order")):O()},U=async e=>{if("delete"===e){if(!confirm(`Are you sure you want to PERMANENTLY DELETE ${g.size} orders? This cannot be undone.`))return}else if(!confirm(`Are you sure you want to ${e} ${g.size} orders?`))return;if(console.log(`Executing ${e} on`,Array.from(g)),"fulfill"===e){let{error:e}=await q.from("orders").update({status:"fulfilled"}).in("id",Array.from(g));e||(O(),j(new Set),alert("Orders marked as fulfilled!"))}else if("archive"===e){let{error:e}=await q.from("orders").update({status:"failed"}).in("id",Array.from(g));e||(O(),j(new Set),alert("Orders archived!"))}else if("delete"===e){let{error:e}=await q.from("orders").delete().in("id",Array.from(g));e?(console.error("Error deleting orders:",e),alert("Failed to delete orders. Check console for details.")):(O(),j(new Set),alert("Orders permanently deleted."))}else alert(`${e} action triggered (Not fully implemented yet)`)};return(0,s.jsxs)("div",{className:"min-h-screen px-4 py-8 max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-zinc-100",children:"All Orders"}),s.jsx("p",{className:"text-zinc-500",children:"Manage, review, and fix customer orders"})]}),s.jsx("button",{onClick:()=>M.push("/admin/create"),className:"bg-zinc-800 hover:bg-zinc-700 text-zinc-200 px-4 py-2 rounded-lg transition-colors whitespace-nowrap",children:"+ New Order"})]}),(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex p-1 bg-zinc-900/50 border border-zinc-800 rounded-lg overflow-x-auto no-scrollbar",children:[s.jsx(b,{active:"all"===r,onClick:()=>{p("all"),k(1)},icon:c.Z,label:"All Orders",count:_.all}),s.jsx(b,{active:"inbox"===r,onClick:()=>{p("inbox"),k(1)},icon:o.Z,label:"Inbox",count:_.inbox}),s.jsx(b,{active:"revising"===r,onClick:()=>{p("revising"),k(1)},icon:d.Z,label:"In Progress",count:_.revising}),s.jsx(b,{active:"fulfilled"===r,onClick:()=>{p("fulfilled"),k(1)},icon:x.Z,label:"Completed",count:_.fulfilled}),s.jsx(b,{active:"archived"===r,onClick:()=>{p("archived"),k(1)},icon:o.Z,label:"Archived",count:_.archived})]}),(0,s.jsxs)("div",{className:"relative flex-1",children:[s.jsx(m.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),s.jsx("input",{type:"text",placeholder:"Search by name, email, or pet...",value:N,onChange:e=>{z(e.target.value),k(1)},className:"w-full h-full bg-zinc-900 border border-zinc-800 rounded-lg pl-10 pr-4 py-2 text-zinc-200 focus:ring-2 focus:ring-amber-500 outline-none text-sm"})]})]}),v?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(h.Z,{className:"w-8 h-8 animate-spin text-amber-500"})}):0===e.length?s.jsx("div",{className:"text-center py-12 bg-zinc-900/50 rounded-lg border border-zinc-800",children:s.jsx("p",{className:"text-zinc-500",children:"No orders found."})}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"bg-zinc-900/50 rounded-xl border border-zinc-800 overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full text-left text-sm text-zinc-400",children:[s.jsx("thead",{className:"bg-zinc-900 text-zinc-200 uppercase tracking-wider text-xs",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"p-4 w-10",children:s.jsx("input",{type:"checkbox",checked:e.length>0&&g.size===e.length,onChange:()=>{g.size===e.length?j(new Set):j(new Set(e.map(e=>e.id)))},className:"rounded border-zinc-700 bg-zinc-800 text-amber-500 focus:ring-amber-500"})}),s.jsx("th",{className:"p-4 font-medium",children:"Date"}),s.jsx("th",{className:"p-4 font-medium",children:"Customer"}),s.jsx("th",{className:"p-4 font-medium",children:"Pet"}),s.jsx("th",{className:"p-4 font-medium",children:"Status"}),s.jsx("th",{className:"p-4 font-medium",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-zinc-800",children:e.map(e=>(0,s.jsxs)("tr",{className:`hover:bg-zinc-800/50 cursor-pointer transition-colors ${g.has(e.id)?"bg-amber-500/5":""}`,onClick:t=>{"INPUT"!==t.target.tagName&&"BUTTON"!==t.target.tagName&&M.push(`/admin/orders/${e.id}`)},children:[s.jsx("td",{className:"p-4",children:s.jsx("input",{type:"checkbox",checked:g.has(e.id),onChange:()=>E(e.id),className:"rounded border-zinc-700 bg-zinc-800 text-amber-500 focus:ring-amber-500"})}),(0,s.jsxs)("td",{className:"p-4 whitespace-nowrap",children:[(0,l.WU)(new Date(e.created_at),"MMM d, yyyy"),s.jsx("div",{className:"text-xs text-zinc-600",children:(0,l.WU)(new Date(e.created_at),"h:mm a")})]}),(0,s.jsxs)("td",{className:"p-4",children:[s.jsx("div",{className:"font-medium text-zinc-200",children:e.customer_name}),s.jsx("div",{className:"text-xs",children:e.customer_email})]}),(0,s.jsxs)("td",{className:"p-4",children:[e.pet_name||s.jsx("span",{className:"text-zinc-600 italic",children:"No name"}),s.jsx("div",{className:"text-xs text-zinc-500",children:e.pet_breed})]}),(0,s.jsxs)("td",{className:"p-4",children:[s.jsx(f,{status:e.status}),e.customer_notes&&(0,s.jsxs)("div",{className:"flex items-center gap-1 text-amber-500 text-xs mt-1 font-bold",children:[s.jsx(u.Z,{className:"w-3 h-3"}),"Has Feedback"]})]}),(0,s.jsxs)("td",{className:"p-4 flex items-center gap-3",children:[s.jsx("span",{className:"text-amber-500 hover:text-amber-400 font-medium",children:"Manage â†’"}),"archived"!==r&&s.jsx("button",{onClick:t=>R(e.id,t),className:"text-zinc-600 hover:text-red-400 text-xs px-2 py-1 rounded bg-zinc-800/50 hover:bg-zinc-800 border border-zinc-700/50 transition-colors",title:"Archive Order",children:"Archive"})]})]},e.id))})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-6 bg-zinc-900/50 p-4 rounded-lg border border-zinc-800",children:[(0,s.jsxs)("div",{className:"text-sm text-zinc-500",children:["Showing ",s.jsx("span",{className:"font-medium text-zinc-300",children:(w-1)*20+1})," to"," ",s.jsx("span",{className:"font-medium text-zinc-300",children:Math.min(20*w,C)})," of"," ",s.jsx("span",{className:"font-medium text-zinc-300",children:C})," results"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>k(e=>Math.max(1,e-1)),disabled:1===w,className:"px-3 py-1 rounded bg-zinc-800 border border-zinc-700 text-zinc-300 text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-zinc-700",children:"Previous"}),s.jsx("button",{onClick:()=>k(e=>e+1),disabled:20*w>=C,className:"px-3 py-1 rounded bg-zinc-800 border border-zinc-700 text-zinc-300 text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-zinc-700",children:"Next"})]})]})]}),g.size>0&&(0,s.jsxs)("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 bg-zinc-800 border border-zinc-700 shadow-xl rounded-full px-6 py-3 flex items-center gap-4 z-50",children:[(0,s.jsxs)("span",{className:"text-zinc-300 font-medium text-sm",children:[g.size," selected"]}),s.jsx("div",{className:"h-4 w-px bg-zinc-700"}),s.jsx("button",{onClick:()=>U("fulfill"),className:"text-amber-500 hover:text-amber-400 font-medium text-sm",children:"Mark Fulfilled"}),s.jsx("button",{onClick:()=>U("email"),className:"text-zinc-400 hover:text-zinc-200 text-sm",children:"Send Email"}),s.jsx("button",{onClick:()=>U("archive"),className:"text-zinc-400 hover:text-red-400 text-sm",children:"Archive"}),s.jsx("button",{onClick:()=>U("delete"),className:"text-red-500 hover:text-red-400 text-sm font-medium ml-2",children:"Delete"}),s.jsx("button",{onClick:()=>j(new Set),className:"ml-2 text-zinc-500 hover:text-zinc-300",children:"Cancel"})]})]})}function b({active:e,onClick:t,icon:r,label:a,count:i}){return(0,s.jsxs)("button",{onClick:t,className:`flex items-center gap-2 px-4 py-2 rounded-md transition-colors text-sm font-medium whitespace-nowrap
                ${e?"bg-zinc-800 text-zinc-100 shadow-sm":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:[s.jsx(r,{className:"w-4 h-4"}),a,i>0&&s.jsx("span",{className:`ml-1 px-1.5 py-0.5 rounded-full text-[10px] ${e?"bg-zinc-700 text-zinc-200":"bg-zinc-800 text-zinc-500"}`,children:i})]})}function f({status:e}){return s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold border ${{pending:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",fulfilled:"bg-green-500/10 text-green-500 border-green-500/20",revising:"bg-rose-500/10 text-rose-500 border-rose-500/20",failed:"bg-zinc-800 text-zinc-500 border-zinc-700"}[e]||"bg-zinc-800 text-zinc-400 border-zinc-700"}`,children:"failed"===e?"Archived":e.charAt(0).toUpperCase()+e.slice(1)})}},69701:(e,t,r)=>{"use strict";r.d(t,{O:()=>s,e:()=>a});let s=(0,r(47939).eI)("https://opxgicxdrbpgpsxonogk.supabase.co","sb_publishable_oy3hhF4k8MiMOpfOBiCxOw_8nvsY8i2"),a=()=>s},9457:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`/Users/taylorstrong/Redemption23-1/project/src/app/admin/layout.tsx#default`)},98619:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`/Users/taylorstrong/Redemption23-1/project/src/app/admin/orders/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9276,9449,7939,6131,163],()=>r(40271));module.exports=s})();