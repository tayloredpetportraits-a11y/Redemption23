(()=>{var e={};e.id=3,e.ids=[3],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},11299:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.Z,__next_app__:()=>x,originalPathname:()=>c,pages:()=>o,routeModule:()=>m,tree:()=>d}),s(44753),s(9457),s(19958),s(7629),s(12523);var r=s(23191),a=s(88716),n=s(43315),l=s(95231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);s.d(t,i);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,44753)),"/Users/taylorstrong/Redemption23-1/project/src/app/admin/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,9457)),"/Users/taylorstrong/Redemption23-1/project/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,19958)),"/Users/taylorstrong/Redemption23-1/project/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,7629)),"/Users/taylorstrong/Redemption23-1/project/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,12523)),"/Users/taylorstrong/Redemption23-1/project/src/app/not-found.tsx"]}],o=["/Users/taylorstrong/Redemption23-1/project/src/app/admin/page.tsx"],c="/admin/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7009:(e,t,s)=>{Promise.resolve().then(s.bind(s,43219))},73725:(e,t,s)=>{Promise.resolve().then(s.bind(s,90137))},2179:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},32933:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},48998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3335:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]])},4559:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]])},91468:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]])},88307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},43219:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(10326),a=s(35047),n=s(90434),l=s(24319),i=s(51996),d=s(89392),o=s(71709),c=s(76993),x=s(49163),m=s(71810);function h(){let e=(0,a.usePathname)(),t=async()=>{await fetch("/api/admin/logout",{method:"POST"}),window.location.href="/admin/login"},s=[{label:"Command Center",href:"/admin",icon:l.Z,exact:!0},{label:"Create Order",href:"/admin/create",icon:i.Z},{label:"Themes",href:"/admin/themes",icon:d.Z},{label:"Mockups",href:"/admin/mockups",icon:o.Z},{label:"Marketing",href:"/admin/marketing",icon:c.Z}];return(0,r.jsxs)("aside",{className:"w-64 border-r border-brand-blue/30 bg-white/80 backdrop-blur-xl flex flex-col h-screen sticky top-0 shadow-lg shadow-brand-navy/5",children:[r.jsx("div",{className:"p-6 border-b border-brand-blue/30",children:(0,r.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2 text-brand-navy font-playfair",children:[r.jsx(x.Z,{className:"w-6 h-6 text-brand-navy"}),r.jsx("span",{children:"Admin"})]})}),r.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:s.map(t=>{let s=t.exact?e===t.href:e.startsWith(t.href);return(0,r.jsxs)(n.default,{href:t.href,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all font-medium ${s?"bg-brand-navy text-white shadow-md":"text-zinc-500 hover:text-brand-navy hover:bg-brand-blue/20"}`,children:[r.jsx(t.icon,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:t.label})]},t.href)})}),r.jsx("div",{className:"p-4 border-t border-brand-blue/30",children:(0,r.jsxs)("button",{onClick:t,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-zinc-500 hover:text-rose-500 hover:bg-rose-50 transition-all font-medium",children:[r.jsx(m.Z,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:"Logout"})]})})]})}function p({children:e}){let t=(0,a.usePathname)();if("/admin/login"===t)return r.jsx(r.Fragment,{children:e});let{replace:n}=s(35047).useRouter(),{useEffect:l}=s(17577);return l(()=>{document.cookie.includes("admin-token=authenticated")||n("/admin/login")},[t,n]),(0,r.jsxs)("div",{className:"flex min-h-screen bg-slate-50 text-zinc-900",children:[r.jsx(h,{}),r.jsx("main",{className:"flex-1 max-w-[1600px] w-full mx-auto",children:e})]})}},90137:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>O});var r=s(10326),a=s(17577),n=s(35047),l=s(69701),i=s(48998),d=s(4559),o=s(3335),c=s(91468),x=s(2179),m=s(88307),h=s(75290),p=s(87888),u=s(700);function b(){let[e,t]=(0,a.useState)({pending:0,revising:0,fulfilled:0,total:0}),[s,n]=(0,a.useState)(!0);return((0,l.e)(),s)?r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 animate-pulse",children:[void 0,void 0,void 0,void 0].map((e,t)=>r.jsx("div",{className:"h-24 bg-white/50 rounded-xl"},t))}):(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(g,{label:"Pending Review",value:e.pending,icon:i.Z,color:"text-brand-navy",bgColor:"bg-white",borderColor:"border-brand-navy/20",shadow:"shadow-sm"}),r.jsx(g,{label:"Revisions",value:e.revising,icon:c.Z,color:"text-rose-500",bgColor:"bg-white",borderColor:"border-rose-100",shadow:"shadow-sm"}),r.jsx(g,{label:"Fulfilled",value:e.fulfilled,icon:x.Z,color:"text-green-600",bgColor:"bg-white",borderColor:"border-green-100",shadow:"shadow-sm"}),r.jsx(g,{label:"Total Orders",value:e.total,icon:p.Z,color:"text-zinc-500",bgColor:"bg-white",borderColor:"border-zinc-200",shadow:"shadow-sm"})]})}function g({label:e,value:t,icon:s,color:a,bgColor:n,borderColor:l,shadow:i}){return(0,r.jsxs)(u.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-xl border ${n} ${l} ${i} flex items-center gap-4`,children:[r.jsx("div",{className:`p-3 rounded-full bg-brand-bg/50 ${a}`,children:r.jsx(s,{className:"w-5 h-5"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:`text-2xl font-bold ${a}`,children:t}),r.jsx("p",{className:"text-xs text-zinc-400 uppercase tracking-wider font-semibold",children:e})]})]})}var v=s(45956),f=s(94019),j=s(32933),y=s(46226);function w({order:e,images:t,onApproveAll:s,onReviewImage:a,onExpand:n}){let l=t.filter(e=>"pending_review"===e.status),d=l.length>0;return r.jsx(u.E.div,{layout:!0,className:`glass-card rounded-xl overflow-hidden transition-all hover:border-brand-blue/50 ${d?"ring-2 ring-brand-navy/10":""}`,children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[(0,r.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("h3",{className:"text-lg font-bold text-brand-navy",children:e.customer_name}),r.jsx("span",{className:"text-xs text-zinc-500",children:e.customer_email})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-zinc-500",children:[r.jsx("span",{className:"text-zinc-700 font-medium",children:e.pet_name||"Pet Swap"}),r.jsx("span",{children:"•"}),r.jsx("span",{children:e?.product_type||"Unknown Product"}),r.jsx("span",{children:"•"}),r.jsx("span",{className:"text-zinc-400",children:(0,v.WU)(new Date(e.created_at),"MMM d, h:mm a")})]}),e.customer_notes&&(0,r.jsxs)("div",{className:"mt-3 flex items-start gap-2 text-brand-navy text-sm bg-brand-blue/30 p-3 rounded-lg border border-brand-blue/20",children:[r.jsx(p.Z,{className:"w-4 h-4 mt-0.5 shrink-0"}),r.jsx("p",{className:"line-clamp-2",children:e.customer_notes})]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end gap-3 shrink-0",children:[r.jsx("div",{className:"flex items-center gap-2",children:d?(0,r.jsxs)("span",{className:"px-3 py-1 rounded-full bg-brand-navy/10 text-brand-navy text-xs font-bold flex items-center gap-1.5 border border-brand-navy/20",children:[r.jsx(i.Z,{className:"w-3 h-3"}),"Needs Review (",l.length,")"]}):r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${"fulfilled"===e.status?"bg-green-100 text-green-700 border-green-200":"bg-zinc-100 text-zinc-500 border-zinc-200"}`,children:e.status})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[d&&(0,r.jsxs)("button",{onClick:t=>{t.stopPropagation(),s(e.id,l.map(e=>e.id))},className:"flex items-center gap-2 px-4 py-2 bg-brand-navy text-white font-bold rounded-lg hover:bg-brand-navy/90 transition-colors text-sm shadow-md shadow-brand-navy/20",children:[r.jsx(x.Z,{className:"w-4 h-4"}),"Approve All"]}),r.jsx("button",{onClick:()=>n(e),className:"px-4 py-2 bg-white hover:bg-zinc-50 text-brand-navy border border-zinc-200 rounded-lg text-sm font-medium transition-colors",children:"Details"})]})]})]}),d&&r.jsx(u.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-6 pt-6 border-t border-brand-blue/20",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:[e.pet_image_url&&(0,r.jsxs)("div",{className:"relative aspect-[3/4] rounded-lg overflow-hidden border border-zinc-200 opacity-80 hover:opacity-100 transition-opacity",children:[r.jsx(y.default,{src:e.pet_image_url,alt:"Reference",fill:!0,className:"object-cover"}),r.jsx("div",{className:"absolute top-2 left-2 px-1.5 py-0.5 bg-black/60 text-white text-[10px] rounded font-medium",children:"Ref"})]}),l.slice(0,5).map(e=>(0,r.jsxs)("div",{className:"relative aspect-[3/4] rounded-lg overflow-hidden border border-zinc-200 group",children:[r.jsx(y.default,{src:e.url,alt:"Candidate",fill:!0,className:"object-cover"}),(0,r.jsxs)("div",{className:"absolute inset-0 bg-brand-navy/20 backdrop-blur-[1px] opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[r.jsx("button",{onClick:()=>a(e.id,"rejected"),className:"p-2 rounded-full bg-white text-rose-500 hover:bg-rose-500 hover:text-white transition-colors shadow-sm",title:"Reject",children:r.jsx(f.Z,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>a(e.id,"approved"),className:"p-2 rounded-full bg-white text-brand-navy hover:bg-brand-navy hover:text-white transition-colors shadow-sm",title:"Approve",children:r.jsx(j.Z,{className:"w-4 h-4"})})]}),r.jsx("div",{className:"absolute bottom-0 inset-x-0 p-2 bg-white/90 backdrop-blur-sm border-t border-zinc-100",children:r.jsx("p",{className:"text-[10px] text-zinc-700 truncate",children:e.theme_name})})]},e.id)),l.length>5&&(0,r.jsxs)("button",{onClick:()=>n(e),className:"aspect-[3/4] rounded-lg bg-zinc-50 border border-zinc-200 flex flex-col items-center justify-center text-zinc-500 hover:text-brand-navy hover:bg-zinc-100 transition-colors",children:[(0,r.jsxs)("span",{className:"text-xl font-bold",children:["+",l.length-5]}),r.jsx("span",{className:"text-xs",children:"More"})]})]})})]})})}var N=s(9086),k=s(71709);let z=(0,s(76557).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);function C({order:e,images:t,isOpen:s,onClose:a,onReviewImage:n}){let l=t.filter(e=>"pending_review"===e.status),i=t.filter(e=>"approved"===e.status),d=t.filter(e=>"rejected"===e.status);return r.jsx(N.M,{children:s&&(0,r.jsxs)(r.Fragment,{children:[r.jsx(u.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,className:"fixed inset-0 bg-brand-navy/40 backdrop-blur-sm z-50"}),(0,r.jsxs)(u.E.div,{initial:{x:"100%",opacity:.5},animate:{x:0,opacity:1},exit:{x:"100%",opacity:.5},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-y-0 right-0 w-full max-w-2xl bg-white/95 backdrop-blur-md border-l border-zinc-200 z-50 flex flex-col shadow-2xl",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-zinc-200 flex justify-between items-start bg-zinc-50/50",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-brand-navy font-playfair",children:e.customer_name}),(0,r.jsxs)("div",{className:"flex gap-2 text-sm mt-1",children:[r.jsx("span",{className:"text-brand-navy/70 font-medium",children:e.product_type}),r.jsx("span",{className:"text-zinc-300",children:"•"}),r.jsx("span",{className:"text-zinc-500",children:e.pet_name})]})]}),r.jsx("button",{onClick:a,className:"p-2 rounded-full hover:bg-zinc-100 text-zinc-400 hover:text-brand-navy transition-colors",children:r.jsx(f.Z,{className:"w-6 h-6"})})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[e.customer_notes&&(0,r.jsxs)("div",{className:"bg-brand-blue/30 border border-brand-blue/20 rounded-xl p-4 flex gap-3",children:[r.jsx(p.Z,{className:"w-5 h-5 text-brand-navy shrink-0"}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-brand-navy font-bold text-sm mb-1",children:"Customer Notes"}),r.jsx("p",{className:"text-brand-navy/80 text-sm leading-relaxed",children:e.customer_notes})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-zinc-400 font-bold text-xs uppercase tracking-wider mb-3",children:"Reference Photo"}),e.pet_image_url?r.jsx("div",{className:"relative aspect-square w-48 rounded-xl overflow-hidden border border-zinc-200 shadow-sm",children:r.jsx(y.default,{src:e.pet_image_url,alt:"Pet Reference",fill:!0,className:"object-cover"})}):r.jsx("div",{className:"w-48 h-48 rounded-xl bg-zinc-50 flex items-center justify-center border border-zinc-200 text-zinc-400",children:r.jsx(k.Z,{className:"w-8 h-8 opacity-50"})})]}),l.length>0&&(0,r.jsxs)("div",{children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:(0,r.jsxs)("h3",{className:"text-brand-navy font-bold text-xs uppercase tracking-wider flex items-center gap-2",children:["Needs Review",r.jsx("span",{className:"bg-brand-navy/10 px-2 py-0.5 rounded-full text-brand-navy",children:l.length})]})}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:l.map(e=>(0,r.jsxs)("div",{className:"group relative aspect-[3/4] rounded-xl overflow-hidden border border-zinc-200 hover:border-brand-navy transition-colors shadow-sm",children:[r.jsx(y.default,{src:e.url,alt:"To Review",fill:!0,className:"object-cover"}),(0,r.jsxs)("div",{className:"absolute inset-0 bg-brand-navy/30 backdrop-blur-[1px] group-hover:bg-brand-navy/50 transition-colors flex items-center justify-center gap-3 opacity-0 group-hover:opacity-100",children:[r.jsx("button",{onClick:()=>n(e.id,"rejected"),className:"p-3 bg-white text-rose-500 rounded-full shadow-lg hover:bg-rose-500 hover:text-white transition-all font-bold",title:"Reject",children:r.jsx(f.Z,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>n(e.id,"approved"),className:"p-3 bg-white text-brand-navy rounded-full shadow-lg hover:bg-brand-navy hover:text-white transition-all font-bold",title:"Approve",children:r.jsx(j.Z,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"absolute bottom-0 inset-x-0 p-3 bg-white/90 backdrop-blur-md border-t border-white/20",children:r.jsx("span",{className:"text-brand-navy text-sm font-medium",children:e.theme_name})})]},e.id))})]}),i.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-green-600 font-bold text-xs uppercase tracking-wider mb-4 flex items-center gap-2",children:["Approved",r.jsx("span",{className:"bg-green-100 px-2 py-0.5 rounded-full text-green-700",children:i.length})]}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:i.map(e=>(0,r.jsxs)("div",{className:"relative aspect-[3/4] rounded-lg overflow-hidden border border-green-200 opacity-90 hover:opacity-100 transition-opacity",children:[r.jsx(y.default,{src:e.url,alt:"Approved",fill:!0,className:"object-cover"}),r.jsx("div",{className:"absolute top-2 right-2 p-1 bg-green-500 rounded-full text-white shadow-sm",children:r.jsx(j.Z,{className:"w-3 h-3"})})]},e.id))})]}),d.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-rose-500 font-bold text-xs uppercase tracking-wider mb-4 flex items-center gap-2",children:["Rejected",r.jsx("span",{className:"bg-rose-100 px-2 py-0.5 rounded-full text-rose-700",children:d.length})]}),r.jsx("div",{className:"grid grid-cols-4 gap-3",children:d.map(e=>(0,r.jsxs)("div",{className:"relative aspect-[3/4] rounded-lg overflow-hidden border border-rose-200 opacity-60 hover:opacity-100 transition-opacity grayscale hover:grayscale-0",children:[r.jsx(y.default,{src:e.url,alt:"Rejected",fill:!0,className:"object-cover"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(f.Z,{className:"w-8 h-8 text-rose-500 drop-shadow-sm"})})]},e.id))})]})]}),(0,r.jsxs)("div",{className:"p-6 border-t border-zinc-200 bg-zinc-50/50 flex justify-end gap-3",children:[r.jsx("button",{onClick:a,className:"px-4 py-2 text-zinc-500 hover:text-brand-navy transition-colors text-sm font-medium",children:"Close"}),(0,r.jsxs)("a",{href:`/admin/orders/${e.id}`,className:"px-5 py-2 btn-primary rounded-lg text-sm font-bold flex items-center gap-2 transition-colors",children:["Full Order Details",r.jsx(z,{className:"w-4 h-4"})]})]})]})]})})}var Z=s(40339);let _=(0,a.createContext)(null);var P=s(71470),R=s(42482);let M=e=>!e.isLayoutDirty&&e.willUpdate(!1),q=e=>!0===e,S=e=>q(!0===e)||"id"===e,A=({children:e,id:t,inherit:s=!0})=>{let n=(0,a.useContext)(Z.p),l=(0,a.useContext)(_),[i,d]=function(){let e=function(){let e=(0,a.useRef)(!1);return(0,R.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}(),[t,s]=(0,a.useState)(0),r=(0,a.useCallback)(()=>{e.current&&s(t+1)},[t]);return[(0,a.useCallback)(()=>P.Wi.postRender(r),[r]),t]}(),o=(0,a.useRef)(null),c=n.id||l;null===o.current&&(S(s)&&c&&(t=t?c+"-"+t:c),o.current={id:t,group:q(s)&&n.group||function(){let e=new Set,t=new WeakMap,s=()=>e.forEach(M);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",s))},remove:r=>{e.delete(r);let a=t.get(r);a&&(a(),t.delete(r)),s()},dirty:s}}()});let x=(0,a.useMemo)(()=>({...o.current,forceRender:i}),[d]);return(0,r.jsx)(Z.p.Provider,{value:x,children:e})};function O(){let e=(0,n.useRouter)();(0,l.e)();let[t,s]=(0,a.useState)([]),[p,g]=(0,a.useState)({}),[v,f]=(0,a.useState)(!0),[j,y]=(0,a.useState)("needs_review"),[N,k]=(0,a.useState)(""),[z,Z]=(0,a.useState)(null),_=async(e,t)=>{g(s=>{let r=[...s[e]||[]].map(e=>t.includes(e.id)?{...e,status:"approved"}:e);return{...s,[e]:r}}),await Promise.all(t.map(e=>fetch("/api/admin/review-queue",{method:"POST",body:JSON.stringify({imageId:e,status:"approved"})})))},P=async(e,t)=>{let s="";for(let[t,r]of Object.entries(p))if(r.find(t=>t.id===e)){s=t;break}s&&(g(r=>{let a=[...r[s]||[]].map(s=>s.id===e?{...s,status:t}:s);return{...r,[s]:a}}),await fetch("/api/admin/review-queue",{method:"POST",body:JSON.stringify({imageId:e,status:t})}))};return(0,r.jsxs)("div",{className:"min-h-screen px-4 py-8 max-w-7xl mx-auto space-y-8 pb-32",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-brand-navy font-playfair",children:"Command Center"}),r.jsx("p",{className:"text-zinc-500 mt-1",children:"Unified view of all orders and pending reviews"})]}),r.jsx("button",{onClick:()=>e.push("/admin/create"),className:"btn-primary flex items-center gap-2 shadow-lg shadow-brand-navy/20",children:"+ New Order"})]}),r.jsx("div",{className:"hidden md:block",children:r.jsx(b,{})}),(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 sticky top-4 z-30 bg-white/80 backdrop-blur-xl p-2 rounded-xl border border-brand-blue/30 shadow-xl shadow-brand-navy/5",children:[(0,r.jsxs)("div",{className:"flex p-1 bg-brand-bg border border-zinc-200 rounded-lg overflow-x-auto no-scrollbar",children:[r.jsx(E,{active:"needs_review"===j,onClick:()=>y("needs_review"),icon:i.Z,label:"Needs Review",highlight:!0}),r.jsx("div",{className:"w-px bg-zinc-300 mx-1 my-2"}),r.jsx(E,{active:"all"===j,onClick:()=>y("all"),icon:d.Z,label:"All active"}),r.jsx(E,{active:"inbox"===j,onClick:()=>y("inbox"),icon:o.Z,label:"Inbox"}),r.jsx(E,{active:"revising"===j,onClick:()=>y("revising"),icon:c.Z,label:"Revising"}),r.jsx(E,{active:"fulfilled"===j,onClick:()=>y("fulfilled"),icon:x.Z,label:"Fulfilled"}),r.jsx(E,{active:"archived"===j,onClick:()=>y("archived"),icon:o.Z,label:"Archived"})]}),(0,r.jsxs)("div",{className:"relative flex-1 group",children:[r.jsx(m.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-400 group-focus-within:text-brand-navy transition-colors"}),r.jsx("input",{type:"text",placeholder:"Search orders...",value:N,onChange:e=>k(e.target.value),className:"w-full h-full bg-white border border-zinc-200 rounded-lg pl-10 pr-4 text-sm text-brand-navy focus:ring-2 focus:ring-brand-blue/50 outline-none transition-all placeholder:text-zinc-400"})]})]}),r.jsx(A,{children:r.jsx(u.E.div,{layout:!0,className:"space-y-4",children:v?r.jsx("div",{className:"py-20 flex justify-center",children:r.jsx(h.Z,{className:"w-8 h-8 animate-spin text-brand-navy"})}):0===t.length?(0,r.jsxs)("div",{className:"py-20 text-center border-2 border-dashed border-zinc-200 rounded-2xl bg-white/50",children:[r.jsx("p",{className:"text-zinc-500 font-medium",children:"No orders found."}),"needs_review"===j&&r.jsx("p",{className:"text-sm text-zinc-400 mt-2",children:"Good job! You're all caught up."})]}):t.map(e=>r.jsx(w,{order:e,images:p[e.id]||[],onApproveAll:_,onReviewImage:P,onExpand:e=>Z(e)},e.id))})}),z&&r.jsx(C,{order:z,images:p[z.id]||[],isOpen:!!z,onClose:()=>Z(null),onReviewImage:P})]})}function E({active:e,onClick:t,icon:s,label:a,highlight:n}){return(0,r.jsxs)("button",{onClick:t,className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all text-sm font-medium whitespace-nowrap
        ${e?n?"bg-brand-navy text-white shadow-md":"bg-white text-brand-navy shadow-sm":"text-zinc-500 hover:text-brand-navy hover:bg-zinc-200/50"}`,children:[r.jsx(s,{className:"w-4 h-4"}),a]})}},69701:(e,t,s)=>{"use strict";s.d(t,{O:()=>r,e:()=>a});let r=(0,s(47939).eI)("https://opxgicxdrbpgpsxonogk.supabase.co","sb_publishable_oy3hhF4k8MiMOpfOBiCxOw_8nvsY8i2"),a=()=>r},9457:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/Users/taylorstrong/Redemption23-1/project/src/app/admin/layout.tsx#default`)},44753:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/Users/taylorstrong/Redemption23-1/project/src/app/admin/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[9276,9449,6226,7939,6131,163],()=>s(11299));module.exports=r})();