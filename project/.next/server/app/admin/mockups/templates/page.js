(()=>{var e={};e.id=8696,e.ids=[8696],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},49386:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.Z,__next_app__:()=>m,originalPathname:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>o}),a(68415),a(9457),a(19958),a(7629),a(12523);var r=a(23191),s=a(88716),l=a(43315),n=a(95231),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);a.d(t,i);let o=["",{children:["admin",{children:["mockups",{children:["templates",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,68415)),"/Users/taylorstrong/Redemption23-1/project/src/app/admin/mockups/templates/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,9457)),"/Users/taylorstrong/Redemption23-1/project/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,19958)),"/Users/taylorstrong/Redemption23-1/project/src/app/layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,7629)),"/Users/taylorstrong/Redemption23-1/project/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,12523)),"/Users/taylorstrong/Redemption23-1/project/src/app/not-found.tsx"]}],c=["/Users/taylorstrong/Redemption23-1/project/src/app/admin/mockups/templates/page.tsx"],d="/admin/mockups/templates/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/mockups/templates/page",pathname:"/admin/mockups/templates",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},7009:(e,t,a)=>{Promise.resolve().then(a.bind(a,43219))},17432:(e,t,a)=>{Promise.resolve().then(a.bind(a,66264))},71709:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(76557).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},49163:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(76557).Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]])},24319:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(76557).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},71810:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(76557).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},89392:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(76557).Z)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]])},51996:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(76557).Z)("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},76993:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(76557).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},98091:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(76557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},63685:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(76557).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},90434:(e,t,a)=>{"use strict";a.d(t,{default:()=>s.a});var r=a(79404),s=a.n(r)},35047:(e,t,a)=>{"use strict";var r=a(77389);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},43219:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var r=a(10326),s=a(35047),l=a(90434),n=a(24319),i=a(51996),o=a(89392),c=a(71709),d=a(76993),m=a(49163),p=a(71810);function u(){let e=(0,s.usePathname)(),t=async()=>{await fetch("/api/admin/logout",{method:"POST"}),window.location.href="/admin/login"},a=[{label:"Command Center",href:"/admin",icon:n.Z,exact:!0},{label:"Create Order",href:"/admin/create",icon:i.Z},{label:"Themes",href:"/admin/themes",icon:o.Z},{label:"Mockups",href:"/admin/mockups",icon:c.Z},{label:"Marketing",href:"/admin/marketing",icon:d.Z}];return(0,r.jsxs)("aside",{className:"w-64 border-r border-brand-blue/30 bg-white/80 backdrop-blur-xl flex flex-col h-screen sticky top-0 shadow-lg shadow-brand-navy/5",children:[r.jsx("div",{className:"p-6 border-b border-brand-blue/30",children:(0,r.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2 text-brand-navy font-playfair",children:[r.jsx(m.Z,{className:"w-6 h-6 text-brand-navy"}),r.jsx("span",{children:"Admin"})]})}),r.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:a.map(t=>{let a=t.exact?e===t.href:e.startsWith(t.href);return(0,r.jsxs)(l.default,{href:t.href,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all font-medium ${a?"bg-brand-navy text-white shadow-md":"text-zinc-500 hover:text-brand-navy hover:bg-brand-blue/20"}`,children:[r.jsx(t.icon,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:t.label})]},t.href)})}),r.jsx("div",{className:"p-4 border-t border-brand-blue/30",children:(0,r.jsxs)("button",{onClick:t,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-zinc-500 hover:text-rose-500 hover:bg-rose-50 transition-all font-medium",children:[r.jsx(p.Z,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:"Logout"})]})})]})}function x({children:e}){let t=(0,s.usePathname)();if("/admin/login"===t)return r.jsx(r.Fragment,{children:e});let{replace:l}=a(35047).useRouter(),{useEffect:n}=a(17577);return n(()=>{document.cookie.includes("admin-token=authenticated")||l("/admin/login")},[t,l]),(0,r.jsxs)("div",{className:"flex min-h-screen bg-slate-50 text-zinc-900",children:[r.jsx(u,{}),r.jsx("main",{className:"flex-1 max-w-[1600px] w-full mx-auto",children:e})]})}},66264:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(10326),s=a(17577);let l=(0,a(76557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var n=a(63685),i=a(75290),o=a(98091);function c(){let[e,t]=(0,s.useState)([]),[a,c]=(0,s.useState)(!0),[d,m]=(0,s.useState)(!1),[p,u]=(0,s.useState)(null),[x,h]=(0,s.useState)(""),[y,b]=(0,s.useState)(""),f=async()=>{try{let e=await fetch("/api/admin/mockups/templates"),a=await e.json();a.templates&&t(a.templates)}catch(e){console.error("Failed to load templates",e)}finally{c(!1)}},g=async e=>{if(e.preventDefault(),!p||!x)return;m(!0);let t=new FormData;t.append("file",p),t.append("name",x),t.append("keywords",y);try{(await fetch("/api/admin/mockups/templates/upload",{method:"POST",body:t})).ok?(u(null),h(""),b(""),f()):alert("Upload failed")}catch(e){console.error(e),alert("Upload error")}finally{m(!1)}},k=async e=>{if(confirm("Are you sure you want to delete this template?"))try{(await fetch(`/api/admin/mockups/templates?id=${e}`,{method:"DELETE"})).ok&&f()}catch(e){console.error("Delete failed",e)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-black text-zinc-100 p-8",children:[(0,r.jsxs)("header",{className:"mb-8 pb-4 border-b border-zinc-800",children:[r.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-orange-600",children:"Mockup Templates"}),r.jsx("p",{className:"text-zinc-500",children:"Manage blank product images for automatic generation."})]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"bg-zinc-900 rounded-xl p-6 border border-zinc-800 h-fit",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[r.jsx(l,{className:"w-5 h-5 text-amber-500"}),"Add New Template"]}),(0,r.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-zinc-500 mb-1",children:"Template Name"}),r.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-3 text-sm focus:border-amber-500 outline-none",placeholder:"e.g. Blank Canvas Horizontal",value:x,onChange:e=>h(e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-bold uppercase text-zinc-500 mb-1",children:"Keywords"}),r.jsx("input",{className:"w-full bg-zinc-950 border border-zinc-800 rounded p-3 text-sm focus:border-amber-500 outline-none",placeholder:"canvas, wall art, large",value:y,onChange:e=>b(e.target.value)}),r.jsx("p",{className:"text-[10px] text-zinc-500 mt-1",children:"Comma-separated keywords to match Shopify products."})]}),(0,r.jsxs)("div",{className:"border-2 border-dashed border-zinc-800 rounded-lg p-8 text-center hover:border-zinc-600 transition-colors cursor-pointer relative",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:e=>u(e.target.files?.[0]||null),className:"absolute inset-0 opacity-0 cursor-pointer",required:!0}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[r.jsx(n.Z,{className:"w-8 h-8 text-zinc-600 mb-2"}),r.jsx("span",{className:"text-sm text-zinc-400",children:p?p.name:"Click to Upload Image"})]})]}),r.jsx("button",{type:"submit",disabled:d||!p,className:"w-full btn-amber py-3 rounded-lg font-bold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?r.jsx(i.Z,{className:"w-4 h-4 animate-spin"}):"Upload Template"})]})]}),r.jsx("div",{className:"lg:col-span-2",children:a?r.jsx("div",{className:"flex justify-center p-12",children:r.jsx(i.Z,{className:"w-8 h-8 text-zinc-600 animate-spin"})}):(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.map(e=>(0,r.jsxs)("div",{className:"group relative bg-zinc-900 rounded-xl overflow-hidden border border-zinc-800 hover:border-zinc-600 transition-all",children:[(0,r.jsxs)("div",{className:"aspect-square relative bg-zinc-950/50",children:[r.jsx("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-contain p-4"}),r.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx("button",{onClick:()=>k(e.id),className:"p-2 bg-red-500/10 hover:bg-red-500 text-red-500 hover:text-white rounded-lg transition-colors",children:r.jsx(o.Z,{className:"w-4 h-4"})})})]}),(0,r.jsxs)("div",{className:"p-4 border-t border-zinc-900",children:[r.jsx("h3",{className:"font-bold text-sm truncate",children:e.name}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.keywords?.map((e,t)=>r.jsx("span",{className:"text-[10px] bg-zinc-800 text-zinc-400 px-2 py-0.5 rounded-full",children:e},t))})]})]},e.id)),0===e.length&&r.jsx("div",{className:"col-span-full py-12 text-center text-zinc-600",children:"No templates found. Upload your first one!"})]})})]})]})}},9457:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`/Users/taylorstrong/Redemption23-1/project/src/app/admin/layout.tsx#default`)},68415:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`/Users/taylorstrong/Redemption23-1/project/src/app/admin/mockups/templates/page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[9276,9449,163],()=>a(49386));module.exports=r})();